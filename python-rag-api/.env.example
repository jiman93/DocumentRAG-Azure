# ==============================
# General API Settings
# ==============================
API_TITLE="Document RAG API"
API_VERSION="1.0.0"
API_DESCRIPTION="Production-ready RAG API with Azure OpenAI and Azure AI Search"
DEBUG=false

# Optional API key to protect endpoints (leave blank to disable)
API_KEY=""

# ==============================
# Azure OpenAI (preferred)
# ==============================
# Required when using Azure OpenAI
AZURE_OPENAI_ENDPOINT="https://your-resource-name.openai.azure.com/"
AZURE_OPENAI_API_KEY="your-azure-openai-key"
AZURE_OPENAI_DEPLOYMENT_NAME="gpt-4.1-mini"
AZURE_OPENAI_EMBEDDING_DEPLOYMENT="text-embedding-3-large"
AZURE_OPENAI_API_VERSION="2024-02-01"  # Fallback if individual versions not set
AZURE_OPENAI_CHAT_API_VERSION="2025-01-01-preview"
AZURE_OPENAI_EMBEDDING_API_VERSION="2023-05-15"

# ==============================
# OpenAI (fallback if Azure not configured)
# ==============================
# Provide this only if you want to use public OpenAI instead of Azure
OPENAI_API_KEY="your-openai-key"
OPENAI_MODEL="gpt-4o-mini"
OPENAI_EMBEDDING_MODEL="text-embedding-3-large"

# ==============================
# Azure AI Search
# ==============================
AZURE_SEARCH_ENDPOINT="https://your-search-instance.search.windows.net"
AZURE_SEARCH_API_KEY="your-azure-search-key"
AZURE_SEARCH_INDEX_NAME="document-rag-index"

# ==============================
# Azure Blob Storage
# ==============================
# Use either the connection string or account name + key
AZURE_STORAGE_CONNECTION_STRING=""
AZURE_STORAGE_ACCOUNT_NAME="your-storage-account"
AZURE_STORAGE_ACCOUNT_KEY="your-storage-key"
AZURE_STORAGE_CONTAINER_NAME="documents"

# ==============================
# Azure Cosmos DB
# ==============================
AZURE_COSMOS_ENDPOINT="https://your-cosmos-account.documents.azure.com:443/"
AZURE_COSMOS_KEY="your-cosmos-key"
AZURE_COSMOS_DATABASE_NAME="rag-db"
AZURE_COSMOS_CONTAINER_DOCUMENTS="documents"
AZURE_COSMOS_CONTAINER_CONVERSATIONS="conversations"

# ==============================
# RAG Pipeline Defaults
# ==============================
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_DEFAULT=5
TEMPERATURE_DEFAULT=0.3
MAX_TOKENS=2000

# ==============================
# Vector Store
# ==============================
# Options: "chroma" (default, local) or "azure_search"
VECTOR_STORE_TYPE="chroma"
CHROMA_PERSIST_DIRECTORY="./chroma_db"

# ==============================
# CORS Configuration
# ==============================
# Comma-separated list; use "*" for all origins in development
CORS_ORIGINS="*"
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS="*"
CORS_ALLOW_HEADERS="*"
